/*! CHContext - v1.2.0 - Copyright 2013 Poznań Supercomputer and Networking Center - Licensed under the EUPL - 2016-03-30 */
var PSNC=PSNC||{};PSNC.chcontext=PSNC.chcontext||{},PSNC.chcontext.pl={seeMore:"Więcej wyników",poweredBy:"Dostarczone przez",titleLabel:"Tytuł",authorLabel:"Autor",dateLabel:"Data"},PSNC.chcontext.en={seeMore:"See more results",poweredBy:"Powered by",titleLabel:"Title",authorLabel:"Author",dateLabel:"Date"},PSNC.chcontext.searchProviders=[{name:"Europeana",requiresKey:!0},{name:"DPLA",requiresKey:!0},{name:"FBC+",requiresKey:!1}],PSNC.chcontext.jQuery={},PSNC.chcontext.defaultLocale="en",PSNC.chcontext.DEFAULT_RESULT_COUNT=5,PSNC.chcontext.search=function(a,b){var c,d=function(a){if("undefined"!=typeof a.numFound&&a.numFound>0){var c,d,e=PSNC.chcontext.jQuery(b).attr("data-locale"),f=PSNC.chcontext.prepareLabels(PSNC.chcontext.jQuery,e);c="false"===PSNC.chcontext.jQuery(b).attr("data-show-img")?!1:!0,d="true"===PSNC.chcontext.jQuery(b).attr("data-show-date")?!0:!1;var g=PSNC.chcontext.jQuery(".chcontext-widget-container:first",b),h=!PSNC.chcontext.jQuery(g)[0],i=PSNC.chcontext.prepareHTML(PSNC.chcontext.jQuery,a,f,c,d,h);h?PSNC.chcontext.jQuery(b).append(i):g.html(i),PSNC.chcontext.jQuery(b).show(),PSNC.chcontext.handleTooltips(PSNC.chcontext.jQuery,b,f)}else console.log("There is no result in obtained data from service")},e=PSNC.chcontext.jQuery(b).attr("data-customsearchprovider");if("undefined"!=typeof e){var f=window[e];f instanceof Function?c=new f(d):console.error("Custom search provider not defined properly: "+e)}else{var g=PSNC.chcontext.jQuery(b).attr("data-searchprovider"),h=PSNC.chcontext.jQuery(b).attr("data-apikey"),i=PSNC.chcontext.getSearchServiceByName(g);i instanceof Function?c=new i(PSNC.chcontext.jQuery,d,h):console.error("Search provider not existing: "+g)}var j=PSNC.chcontext.jQuery(b).attr("data-resultcount");"undefined"==typeof j&&(j=PSNC.chcontext.DEFAULT_RESULT_COUNT),void 0!==c?c.search(a,j):console.log("Cannot create search provider service!")},PSNC.chcontext.refresh=function(a){PSNC.chcontext.jQuery(a).hide();var b=PSNC.chcontext.getQuery(a);"undefined"!=typeof b&&null!==b&&PSNC.chcontext.search(b,a)},PSNC.chcontext.refreshAll=function(){PSNC.chcontext.jQuery(".chcontext-widget-wrapper").each(function(a,b){PSNC.chcontext.refresh(b)})},function(){function a(a,b){var c=document.createElement("script");c.setAttribute("type","text/javascript"),c.setAttribute("src",a),c.readyState?c.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&(c.onreadystatechange=null,b())}:c.onload=function(){b()},(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(c)}function b(){PSNC.chcontext.jQuery=window.jQuery.noConflict(!0),c()}function c(){PSNC.chcontext.jQuery(document).ready(function(){PSNC.chcontext.jQuery("<style type=\"text/css\">.chcontext-widget-container{overflow:auto}.chcontext-widget-container ol{list-style-type:decimal}.chcontext-widget-container-poweredBy{float:right}.chcontext-widget-container-poweredBy img{max-width:100px;max-height:24px;float:right;margin-top:5px;margin-bottom:5px}.chcontext-widget-container-title-thumbnail{margin-left:55px}.chcontext-widget-container-thumbnail-wrapper{width:50px;float:left;height:100%;text-align:center}.chcontext-widget-container-thumbnail-wrapper img{max-width:100%!important;max-height:100%!important}.chcontext-widget-container-more{margin:3px;display:inline-block}.chcontext-widget-container-more a{text-decoration:underline}.chcontext-widget-container-result-container{position:relative;display:inline-block;vertical-align:top}.chcontext-widget-container-tooltip-box{position:fixed;z-index:999;max-width:300px;border-radius:5px;padding:5px;background:#fff;border:1px solid #718ba1;margin:0 auto}.chcontext-widget-container-tooltip-box-left{float:left;text-align:center;line-height:50px;overflow:hidden}.chcontext-widget-container-tooltip-box-left img{max-width:100px;max-height:100px;vertical-align:middle;margin-right:4px;padding-right:4px}.chcontext-widget-container-tooltip-box-right{min-height:20px;line-height:20px;overflow:hidden}.chcontext-widget-container-tooltip-box-label{font-weight:700}</style>").appendTo("head"),PSNC.chcontext.jQuery(".chcontext-widget-wrapper").each(function(a,b){"true"!==PSNC.chcontext.jQuery(b).attr("data-init-disabled")&&PSNC.chcontext.refresh(b)})})}void 0===window.jQuery||"1.10.2"!==window.jQuery.fn.jquery?a("http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js",function(){b()}):(PSNC.chcontext.jQuery=window.jQuery,c())}(),PSNC.chcontext.getQuery=function(a){var b=PSNC.chcontext.jQuery(a).attr("data-query"),c=PSNC.chcontext.jQuery(a).attr("data-queryselector"),d=PSNC.chcontext.jQuery(a).attr("data-iframe-selector");if("undefined"==typeof c&&"undefined"==typeof b)return console.error("CHContext configuration error. data-query or data-queryselector must be configured. "),null;if("undefined"!=typeof d&&"undefined"==typeof c)return console.error("CHContext configuration error. data-selector is required when you want to use iframe selection. "),null;var e,f;if("undefined"!=typeof d?f=PSNC.chcontext.jQuery(d).contents().find(c):"undefined"!=typeof c&&(f=PSNC.chcontext.jQuery(c)),"undefined"!=typeof f){var g=PSNC.chcontext.prepareQuery(f);e=g&&b?-1!=b.indexOf("$$")?b.replace("$$",g):g+" "+b:g}else b&&(e=b);return e},PSNC.chcontext.prepareQuery=function(a){var b="";return 0===a.size()?(console.log("There is not elements maching given selector. "),null):(1==a.size()?b=a.text():(b+="(",a.each(function(c){b+="("+PSNC.chcontext.jQuery(this).text()+")",c<a.size()-1&&(b+=" OR ")}),b+=")"),b)},PSNC.chcontext.REQUEST_TIMEOUT=5e3,PSNC.chcontext.getSearchServiceByName=function(a){return"FBC+"===a.toUpperCase()?PSNC.chcontext.FBCService:"DPLA"===a.toUpperCase()?PSNC.chcontext.DPLAService:"EUROPEANA"===a.toUpperCase()?PSNC.chcontext.EuropeanaService:void 0},PSNC.chcontext.ajaxErrorHandler=function(a,b,c){console.error("cannot get results from service because of "+b+"; "+c)},PSNC.chcontext.FBCService=function(a,b){var c="http://fbc.pionier.net.pl/",d=c+"index/select",e=c+"search#q=id:",f=c+"thumbnails/",g=c+"search/query?q=",h={link:c,img:"data:image/png;base64,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",name:"FBC+"},i=function(c){var d={};d.resultsLink=g+encodeURIComponent(c.responseHeader.params.q),d.numFound=c.response.numFound,d.dataProvider=h,d.results=a.map(c.response.docs,function(a,b){var c=a.dc_title;void 0!==c&&c instanceof Array&&(c=c[0]);var d=a.dc_creator;void 0!==d&&d instanceof Array&&(d=d[0]);var g=a.dc_date;return void 0!==g&&g instanceof Array&&(g=g[0]),{link:e+a.id,imgLink:f+a.id,title:c,author:d,date:g}}),b(d)};this.search=function(b,c){a.ajax({url:d+"?q="+encodeURIComponent(b)+"&rows="+c+"&fl=dc_title%2Cdcterms_alternative%2Cdc_creator%2Cdc_contributor%2Cid%2Cdc_date&wt=json&json.wrf=?",timeout:PSNC.chcontext.REQUEST_TIMEOUT,dataType:"json",data:{},error:PSNC.chcontext.ajaxErrorHandler,success:i})}},PSNC.chcontext.EuropeanaService=function(a,b,c){var d="http://europeana.eu/",e=d+"api/v2/search.json",f=d+"portal/brief-doc.html?query=",g={link:d,img:"data:image/png;base64,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",name:"Europeana"},h=function(c){var d={};d.dataProvider=g,d.resultsLink=f+encodeURIComponent(this.searchString),d.numFound=c.totalResults,void 0===c.items?d.results=[]:d.results=a.map(c.items,function(a,b){var c=a.title;void 0!==c&&c instanceof Array&&(c=c[0]);var d=a.dcCreator;return void 0!==d&&d instanceof Array&&(d=d[0]),{link:a.guid,imgLink:a.edmPreview,title:c,author:d}}),b(d)};this.search=function(b,d){a.ajax({url:e+"?query="+encodeURIComponent(b)+"&rows="+d+"&profile=minimal&wskey="+c+"&callback=?",timeout:PSNC.chcontext.REQUEST_TIMEOUT,searchString:b,dataType:"json",data:{},error:PSNC.chcontext.ajaxErrorHandler,success:h})}},PSNC.chcontext.DPLAService=function(a,b,c){var d="http://dp.la/",e="http://api.dp.la/v2/items",f=d+"item/",g=d+"search?q=",h={link:d,img:"data:image/png;base64,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",name:"DPLA"},i=function(c){var d={};d.dataProvider=h,d.resultsLink=g+encodeURIComponent(this.searchString),d.numFound=c.count,d.results=a.map(c.docs,function(a,b){var c=a["sourceResource.title"];void 0!==c&&c instanceof Array&&(c=c[0]);var d=a["sourceResource.creator"];void 0!==d&&d instanceof Array&&(d=d[0]);var e=a.object;return void 0!==e&&e instanceof Array&&(e=e[0]),{link:f+a.id,imgLink:e,title:c,author:d}}),b(d)};this.search=function(b,d){a.ajax({url:e+"?q="+encodeURIComponent(b)+"&page_size="+d+"&fields=object,sourceResource.title,sourceResource.creator,id,object&api_key="+c+"&callback=?",timeout:PSNC.chcontext.REQUEST_TIMEOUT,searchString:b,dataType:"json",data:{},error:PSNC.chcontext.ajaxErrorHandler,success:i})}},PSNC.chcontext.discoverLocale=function(){var a=window.navigator.userLanguage||window.navigator.language;return a?a.split("-")[0]:void 0},PSNC.chcontext.prepareLabels=function(a,b){b||(b=PSNC.chcontext.discoverLocale(),b||(b=PSNC.chcontext.defaultLocale));var c=PSNC.chcontext[PSNC.chcontext.defaultLocale],d=PSNC.chcontext[b],e=c;if(d){e={};var f=["seeMore","poweredBy","titleLabel","authorLabel","dateLabel"];a.each(f,function(a,b){e[b]=PSNC.chcontext.htmlEncode(d[b]?d[b]:c[b])})}return e},PSNC.chcontext.handleTooltips=function(a,b,c){var d,e,f=15,g=function(b){var c=a("#chcontext-widget-container-tooltip-box"),g=a(window).height(),h=a(window).width(),i=a(window).scrollLeft(),j=a(window).scrollTop(),k=b.pageX-i+f,l=b.pageY-j+f;d+k>h&&(k=h-d),l+e>g&&(l=g-e),c.css({left:k,top:l})};a(".chcontext-widget-container-result-container",b).hover(function(f){var g=a("img",this),h=a(this).find("#title-value").html(),i=a(this).find("#author-value").html(),j=a(this).find("#date-value").html(),k=g.attr("data-img-error"),l="";l+='<div id="chcontext-widget-container-tooltip-box" class="chcontext-widget-container-tooltip-box">',k||(l+='<div class="chcontext-widget-container-tooltip-box-left"><img src="'+g.attr("src")+'" alt="'+g.attr("src")+'"/></div>'),(h||i||j)&&(l+='<div class="chcontext-widget-container-tooltip-box-right">',h&&(l+="<div>",l+=c.titleLabel?'<span class="chcontext-widget-container-tooltip-box-label">'+c.titleLabel+": </span>":"",l+=h,l+="</div>"),i&&(l+="<div>",l+=c.authorLabel?'<span class="chcontext-widget-container-tooltip-box-label">'+c.authorLabel+": </span>":"",l+=i,l+="</div>"),j&&(l+="<div>",l+=c.dateLabel?'<span class="chcontext-widget-container-tooltip-box-label">'+c.dateLabel+": </span>":"",l+=j,l+="</div>"),l+="</div>"),l+="</div>",a(b).append(l);var m=a("#chcontext-widget-container-tooltip-box");d=m.width(),e=m.height()},function(){a("#chcontext-widget-container-tooltip-box").remove()}),a(".chcontext-widget-container-result-container",b).mousemove(g),a(".chcontext-widget-container-result-container img").error(function(){a(this).attr("data-img-error","true")})},PSNC.chcontext.prepareHTML=function(a,b,c,d,e,f){var g=c.seeMore,h=c.poweredBy,i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvdJREFUeNq0V9GLTFEY/75z74qo5T+wXtSGhJBENEQrZhYRtbQpRZuEhOyueZAHeZE3SfIitU1bmwc8yIOSByUPXqx3D5T1sDP3nOP77jl3utPMXPvdO3umrzP3zp1zfuf3/b7vfh9aa4EHIvbVpqd/amP6rTHg7vZmIJtSANbOHK1UynQZJfuGqeeWa637h8tlWKwxVasN0bSM7E9yLw1gSYLq++wPZqRnG/O6awZWg19/aTcAKdoxBuAwFAFigff050rWb1kw7PS3IFCgFBtCQCh4lg5jLGjamWdE0/W5jgDc6WlzAvH4zTcChCIe+KRaWzhXWkunN5nuzATAdvHgIAFhACghHjSdvB6Z5jpCACr+kyJ79OorhIECiSbZ55E2cH7/oAegFgrA5wTlUZONDa2HkGNY6IOIckmTAdUu884A/O9BogGyhzNfYgBiBgjAhQPrwGDKeXahLkgYoPnykY1eA0IRkgbmGxrQImSl1UwRsgYe1D6TBuQijCgKxg5t+G9CyxQhO+/q8GbHgMAHnPGaDGAX7hfKwP2pT3EUSAdHwaXDm/IxEKBTPQO4fmyrC0OhBhhAnRhQMQBpHvCpl9Hfe/nRaUDoAtbAlcoW78ocIkzmmye2exfIOEgYyCfChAE6+d0XH3K74NrxbS4MIS8D9Ll9eqerZoQIuKqar0f5GFA+e/FruPr8PfQFgRhAQ2u4cXIHBAYzy7vuYegZmBjZDYDyMCQKoJGXAZeIeN8A7jx75zUgzYQGbp3aRRqAnKnY637izN6cZRllw0bkgIvDMD6xjefJp29jDUjfhqyB8ZE94BSA0kzo3mAsxsmzpQI1qYE4gPOUZP4LjD95DWGo5JmQipHqaKlZ2IgBWM9ldXRfIQZAVBP6B7kkj5uIos0JcmlvWxhtyzktF0q1u6FoX5haJ71+Rwbo0Tnq31aYdDvTGxQuuyLOtf2U6o5X0jRAtqpgP5b1jvpFNkv2u7lvuj3nDpmbVFi8USf7S9ZI9v0nwABB+xJ9xtGl5QAAAABJRU5ErkJggg==",j="";if(j+=f?'<div class="chcontext-widget-container">':"",b.results&&b.results.length>0&&(j+="<ol>",a.each(b.results,function(a,b){j+="<li>",j+='<div class="chcontext-widget-container-result-container">';var c="";b.title&&(c+=b.title),b.author&&(b.title&&(c+=" - "),c+=b.author),d?(j+='<div class="chcontext-widget-container-thumbnail-wrapper">',j+='<a href="'+b.link+'" target="_blank" >',j+="<img onerror=\"this.src='"+i+'\';" src="'+PSNC.chcontext.htmlEncode(b.imgLink)+'" ></img>',j+="</a></div>",j+='<div class="chcontext-widget-container-title-thumbnail">'):(j+='<img style="display:none" onerror="this.src=\''+i+'\';" src="'+PSNC.chcontext.htmlEncode(b.imgLink)+'"></img>',j+='<div class="chcontext-widget-container-title">'),j+='<a href="'+b.link+'" target="_blank" >',j+=PSNC.chcontext.htmlEncode(c),j+="</div>",j+="</a>",e&&b.date&&(j+='<div class="with-date">'+PSNC.chcontext.htmlEncode(b.date)+"</div>"),b.title&&(j+='<div id="title-value" style="display:none">'+PSNC.chcontext.htmlEncode(b.title)+"</div>"),b.author&&(j+='<div id="author-value" style="display:none">'+PSNC.chcontext.htmlEncode(b.author)+"</div>"),e&&b.date&&(j+='<div id="date-value" style="display:none">'+PSNC.chcontext.htmlEncode(b.date)+"</div>"),j+="</div>",j+="</li>"}),j+="</ol>"),j+='<div class="chcontext-widget-container-more"><a href="'+PSNC.chcontext.htmlEncode(b.resultsLink)+'" target="_blank" alt="'+g+'" title="'+g+'">'+g+" ("+b.numFound+")</a></div>",b.dataProvider){if(j+='<div class="chcontext-widget-container-poweredBy">',b.dataProvider.link&&(j+='<a href="'+PSNC.chcontext.htmlEncode(b.dataProvider.link)+'" target="_blank">'),b.dataProvider.img){var k=h+(b.dataProvider.name?": "+PSNC.chcontext.htmlEncode(b.dataProvider.name):"");j+='<img src="'+PSNC.chcontext.htmlEncode(b.dataProvider.img)+'" title="'+k+'"/>'}b.dataProvider.link&&(j+="</a>"),j+="</div>"}return j+=f?"</div>":""},PSNC.chcontext.htmlEncode=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};